<div *ngIf="isChoosingCards && !gameEnded" class="d-flex flex-column pick-cards-screen align-items-start">
    <div class="h1 d-flex justify-content-center w-100 mt-3"><b>CHOOOSE YOUR CARDS WISELY</b></div>
    <div class="d-flex justify-content-center w-100">
        <div *ngFor="let card of cardSources1row" class="d-block">
            <card-component
                [src]="card"
                [att]="getAttackOfCard(card)"
                [def]="getDefOfCard(card)"
                (click)="pickCard(card)">
            </card-component>
        </div>
    </div>
    <div class="d-flex justify-content-center w-100">
        <div *ngFor="let card of cardSources2row" class="d-block">
            <card-component
                [src]="card"
                [att]="getAttackOfCard(card)"
                [def]="getDefOfCard(card)"
                (click)="pickCard(card)">
            </card-component>
        </div>
    </div>
    <div class="d-flex justify-content-center w-100">
        <div *ngFor="let card of cardSources3row" class="d-block">
            <card-component
                [src]="card" (click)="pickManager(card)">
            </card-component>
        </div>
    </div>
    <div class="h1 d-flex justify-content-center w-100 mt-5"><b>MY TEAM:</b></div>
    <div class="d-flex justify-content-center w-100">
        <div *ngFor="let card of selectedCards" class="d-inline-block">
            <card-component
                [src]="card"
                [att]="getAttackOfCard(card)"
                [def]="getDefOfCard(card)"
                (click)="removeCard(card)">
            </card-component>
        </div>
    </div>
    <div class="d-flex justify-content-center w-100 mt-5">
        <button class="bg-success" mat-button *ngIf="isReady" style="font-size: 30px;" (click)="startGame()">Kick off!</button>
    </div>
</div>
<div *ngIf="gameEnded && won" class="d-flex justify-content-center align-items-center won-screen">
    <mat-card>
        <h1><b>YOU ARE THE CHAMPION!</b></h1>
    </mat-card>
</div>
<div *ngIf="gameEnded && !won" class="d-flex justify-content-center align-items-center lost-screen">
    <mat-card>
        <h1><b>RUNNER-UP ON WORLD CUP IS NO SMALL THING!</b></h1>
    </mat-card>
</div>
<div class="game-screen" *ngIf="!isChoosingCards && !gameEnded">
    <div>
        <button mat-button *ngIf="isActiveTurn" class="bg-success" style="color:white;"
            (click)="endTurn()">End Turn
        </button>
        <div *ngIf="selectedCards.length > 0" class="d-flex justify-content-center w-100">
            <div *ngFor="let card of selectedCards" class="d-inline-block">
                <card-component
                    [src]="card"
                    [att]="getAttackOfCard(card)"
                    [def]="getDefOfCard(card)"
                    (click)="addCardToPlay(card)">
                </card-component>
            </div>
        </div>
        <div *ngIf="!selectedCards.length > 0" style="height: 150px;"></div>
        
        <div class="row pl pr w-10 d-flex justify-content-between">
            <div *ngIf="attackCards.length > 0">
                <div *ngFor="let card of attackCards" class="d-inline-block">
                    <card-component
                        [src]="card"
                        [att]="getAttackOfCard(card)"
                        [def]="getDefOfCard(card)">
                    </card-component>
                </div>
            </div>
            <div *ngIf="!attackCards.length > 0" style="width: 25%;"></div>
            <div *ngIf="attackOpponentCards.length > 0">
                <div *ngFor="let card of attackOpponentCards" class="d-inline-block">
                    <card-component [src]="card"
                        [att]="getAttackOfCard(card)"
                        [def]="getDefOfCard(card)">
                    </card-component>
                </div>
            </div>
        </div>

        <div class="row pl pr w-10 d-flex justify-content-between">
            <div *ngIf="middleCards.length > 0">
                <div *ngFor="let card of middleCards" class="d-inline-block">
                    <card-component [src]="card"
                        [att]="getAttackOfCard(card)"
                        [def]="getDefOfCard(card)">
                    </card-component>
                </div>
            </div>
            <div *ngIf="!middleCards.length > 0" style="width: 25%;"></div>
            <div *ngIf="middleOpponentCards.length > 0">
                <div *ngFor="let card of middleOpponentCards" class="d-inline-block">
                    <card-component [src]="card"
                        [att]="getAttackOfCard(card)"
                        [def]="getDefOfCard(card)">
                    </card-component>
                </div>
            </div>
        </div>

        <div class="row pl pr w-10 d-flex justify-content-between">
            <div *ngIf="defenceCards.length > 0">
                <div *ngFor="let card of defenceCards" class="d-inline-block">
                    <card-component [src]="card"
                        [att]="getAttackOfCard(card)"
                        [def]="getDefOfCard(card)">
                    </card-component>
                </div>
            </div>
            <div *ngIf="!defenceCards.length > 0" style="width: 25%;"></div>
            <div *ngIf="defenceOpponentCards.length > 0">
                <div *ngFor="let card of defenceOpponentCards" class="d-inline-block">
                    <card-component [src]="card"
                        [att]="getAttackOfCard(card)"
                        [def]="getDefOfCard(card)">
                    </card-component>
                </div>
            </div>
        </div>

        <div class="row pl pr w-10 d-flex justify-content-between">
            <div *ngIf="gkCards.length > 0">
                <card-component
                    [src]="gkCards[0]"
                    [att]="getAttackOfCard(gkCards[0])"
                    [def]="getDefOfCard(gkCards[0])">
                </card-component>
            </div>
            <div *ngIf="!gkCards.length > 0" style="width: 25%;"></div>
            <div *ngIf="gkOpponentCards.length > 0">
                <card-component
                    [src]="gkOpponentCards[0]"
                    [att]="getAttackOfCard(gkOpponentCards[0])"
                    [def]="getDefOfCard(gkOpponentCards[0])">
                </card-component>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between w-100 score-container">
        <div class="score bg-danger">
            <div>S: {{ score }}</div>
            <div>R: {{ wins }}</div>
        </div>
        <div class="opponentScore bg-danger">
            <div>S: {{ opponentScore }}</div>
            <div>R: {{ opponentWins }}</div>
        </div>
    </div>
</div>
